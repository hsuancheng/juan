---
import BaseLayout from "../layouts/BaseLayout.astro";
import PeopleGrid from "../components/people/PeopleGrid.astro";
import peopleData from "../content/people.json";

const sections = [
  { key: "postdocs", title: "Postdoctoral Researchers" },
  { key: "phd_students", title: "PhD Students" },
  { key: "masters_students", title: "Master Students" },
  { key: "undergrads", title: "Undergraduates" },
  { key: "visiting", title: "Visiting Students" },
  { key: "assistants", title: "Research Assistants" },
  { key: "alumni_postdocs", title: "Alumni - Postdoctoral Researchers" },
  { key: "alumni_phd_students", title: "Alumni - PhD Students" },
  { key: "alumni_masters_students", title: "Alumni - Master Students" },
  { key: "alumni_undergrads", title: "Alumni - Undergraduates" },
  { key: "alumni_visiting", title: "Alumni - Visiting Scholars" },
  { key: "alumni_assistants", title: "Alumni - Research Assistants" },
];
---

<BaseLayout title="Members">
  <div class="page-header">
    <div class="container">
      <h1>Lab Members</h1>
    </div>
  </div>

  {sections.map(({ key, title }) => {
    // @ts-ignore
    const members = peopleData[key];
    if (!members || members.length === 0) return null;
    
    return (
      <PeopleGrid title={title} members={members} variant={key.startsWith('alumni') ? 'compact' : 'default'} />
    );
  })}
</BaseLayout>

<style>
  .page-header {
    background: var(--color-secondary);
    color: white;
    padding: var(--spacing-lg) 0;
    margin-top: 80px; /* Header height */
  }
  
  h1 {
    color: white;
    margin: 0;
  }
</style>
